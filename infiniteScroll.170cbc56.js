!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=o);var a=o("bpxeT"),c=o("2TvXO"),i=o("5IjG7"),s=o("6JpON"),u=o("dIxxU"),l=o("707g3"),f="33528220-6f12bec756615243821cbd5de",p="https://pixabay.com/api",d=1,h="",m=0,y="";function v(){return g.apply(this,arguments)}function g(){return(g=e(a)(e(c).mark((function n(){var t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("".concat(p,"/?key=").concat(f,"&q=").concat(h,"&image_type=photo&per_page=").concat(40,"&page=").concat(d,"&orientation=horizontal&safesearch=true"));case 2:return t=e.sent,m=t.data.totalHits,_(),e.abrupt("return",t.data.hits);case 6:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var b=document.querySelector("#search-form"),w=document.querySelector(".gallery");b.addEventListener("submit",(function(e){return L.apply(this,arguments)}));var x=document.querySelector(".loading");function T(){x.classList.remove("show")}function L(){return(L=e(a)(e(c).mark((function n(t){var r,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.currentTarget,o=r.elements.searchQuery.value.trim(),h=o,E(),D(),e.next=8,H().finally((function(){return r.reset()}));case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function H(){return k.apply(this,arguments)}function k(){return(k=e(a)(e(c).mark((function n(){var t;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v();case 3:return t=n.sent,n.next=6,t.reduce((function(e,n){return N(n)+e}),"");case 6:q(n.sent),y.refresh(),m>40&&d-1!=1&&(0,l.default)(),0===m?(e(s).Notify.failure("Sorry, there are no images matching your search query. Please try again."),T()):m>0&&d-1==1?(O(m),U(),T()):(U(),T()),n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(0),n.abrupt("return",console.error(n.t0));case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)}function q(n){w.insertAdjacentHTML("beforeend",n),y=new(e(i))(".gallery a",{captionsData:"alt",captionDelay:250})}function D(){w.innerHTML=""}function N(e){var n=e.largeImageURL,t=e.webformatURL,r=e.tags,o=e.likes,a=e.views,c=e.comments,i=e.downloads;return'\n  <a href="'.concat(n,'">\n  <div class="photo-card">\n  <img src="').concat(t,'" alt="').concat(r,'" loading="lazy" />\n  <div class="info">\n    <p class="info-item">\n      <b>Likes: </b>').concat(o,'\n    </p>\n    <p class="info-item">\n      <b>Views: </b>').concat(a,'\n    </p>\n    <p class="info-item">\n      <b>Comments: </b>').concat(c,'\n    </p>\n    <p class="info-item">\n      <b>Downloads: </b>').concat(i,"\n    </p>\n  </div>\n</div></a>\n  ")}function _(){d+=1}function E(){d=1}function O(n){e(s).Notify.success("Hooray! We found ".concat(n," images."))}function U(){m/40<d-1&&(T(),e(s).Notify.success("We're sorry, but you've reached the end of search results."))}window.addEventListener("scroll",(function(){var e=document.documentElement,n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;console.log({scrollTop:n,scrollHeight:t,clientHeight:r}),r+n>=t?(x.classList.add("show"),setTimeout(H,500)):t-n===r&&U()}))}();
//# sourceMappingURL=infiniteScroll.170cbc56.js.map
